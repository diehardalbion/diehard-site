<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Guild DieHard | Albion Online</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="../css/style.css">
</head>

<body>

<!-- Discord Widget -->
<div id="discordWidget" class="discord-widget">
    <iframe 
        src="https://discord.com/widget?id=1453482483449598064&theme=dark"
        allowtransparency="true"
        sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts">
    </iframe>
</div>

<header class="hero">
    <div class="hero-overlay"></div>

    <h1>Guild DieHard</h1>
    <p>Forjados na persist√™ncia. Unidos pela evolu√ß√£o.</p>

    <a class="btn-primary" href="https://discord.gg/55tKDRpbwS" target="_blank">
        Entrar no Discord
    </a>
</header>

<nav class="menu">
    <a onclick="showTab('info')">Informa√ß√µes</a>
    <a onclick="showTab('staff')">Staff</a>
    <a onclick="showTab('videos')">V√≠deos</a>
    <a onclick="showTab('lives')">Lives</a>
    <a onclick="showTab('vendas')">Vendas de Ba√∫</a>
    <a onclick="showTab('discord')">Discord</a>
</nav>

<main>

<section id="info" class="section tab-section active">
    <h2>üõ°Ô∏è DIE HARD</h2>

    <p class="highlight">
        Somos uma guilda brasileira de Albion Online focada em evolu√ß√£o coletiva,
        PvP organizado e um ambiente saud√°vel.
    </p>


    <p class="note">
        ‚ùå Sem ZvZ e CTA obrigat√≥rios.<br>
        ‚úÖ Jogo deve ser desafiador, mas tamb√©m divertido.
    </p>
</section>

<section id="staff" class="section tab-section">
    <h2>üë• Staff</h2>

    <div class="card-grid">
        <div class="card">
            <h3>üëë L√≠der</h3>
            <p><strong>xxRAGNARxxx</strong></p>
            <p>Respons√°vel por decis√µes estrat√©gicas e representa√ß√µes externas da guilda:</p>
            <ul>
                <li>Avaliar propostas de alian√ßas</li>
                <li>Avaliar propostas de callers para DG Avalon e ZvZ</li>
                <li>Avaliar rent de territ√≥rio</li>
                <li>Avaliar coloca√ß√£o de HO em mapas</li>
                <li>Avaliar rent de World Boss</li>
                <li>Garantir respeito entre toda staff e membros</li>
            </ul>
        </div>

        <div class="card">
            <h3>‚öîÔ∏è Sub-L√≠der</h3>
            <p>SLZXP<br>Kimeruz</p>
            <p>Fun√ß√µes:</p>
            <ul>
                <li>Resolver problemas internos entre a staff</li>
                <li>Garantir o cumprimento das fun√ß√µes dos cargos inferiores</li>
                <li>Ajudar com problemas t√©cnicos do Discord</li>
                <li>Auxiliar na cria√ß√£o de eventos</li>
                <li>Planejar atualiza√ß√µes da guilda</li>
            </ul>
        </div>

        <div class="card">
            <h3>üõ°Ô∏è Moderador</h3>
            <p>Ezlizz</p>
            <p>Fun√ß√µes:</p>
            <ul>
                <li>Resolver conflitos s√©rios</li>
                <li>Aplicar avisos, expuls√µes e banimentos</li>
                <li>Registrar motivos no chat #admin-chat</li>
                <li>Manter blacklist atualizada</li>
                <li>Cobrar e confirmar multas</li>
            </ul>
        </div>

        <div class="card">
            <h3>üõ°Ô∏è Recrutador</h3>
            <p>Thalisson69<br>LordMysteriuss<br>K1ra014</p>
            <p>Fun√ß√µes:</p>
            <ul>
                <li>Recrutar novos jogadores</li>
                <li>Explicar regras e funcionamento da guilda</li>
                <li>Repassar informa√ß√µes obrigat√≥rias</li>
            </ul>
        </div>
    </div>
</section>

<section id="videos" class="section tab-section">
    <h2>üé¨ V√≠deos</h2>

    <video controls class="local-video">
        <source src="../videos/clip.mp4" type="video/mp4">
        Seu navegador n√£o suporta v√≠deo.
    </video>
</section>

<section id="lives" class="section tab-section">
    <h2>üé• Lives</h2>

    <div class="card-grid">
        <div class="card">
            <h3>Twitch ‚Äî Ragnar</h3>
            <a class="btn-secondary" href="#" target="_blank">Assistir</a>
        </div>

        <div class="card">
            <h3>YouTube ‚Äî DieHard</h3>
            <a class="btn-secondary" href="#" target="_blank">Ver Canal</a>
        </div>
    </div>
</section>

<section id="vendas" class="section tab-section">
    <h2>üí∞ Vendas de Ba√∫</h2>
    <p>Publique o print do ba√∫ e seu Discord para contato.</p>

    <form id="vendaForm" class="card venda-form" enctype="multipart/form-data">
        <input type="text" name="discord" placeholder="Seu Discord (ex: Ragnar#0001)" required>
        <input type="file" name="print" accept="image/*" required>
        <button class="btn-primary" type="submit">
            Publicar Ba√∫
        </button>
    </form>

    <hr>

    <h3>üìú √öltimos Ba√∫s Publicados</h3>
    <div id="bauList" class="card-grid"></div>
</section>

<section id="discord" class="section tab-section">
    <h2>üî• Entre para a DieHard</h2>
    <p>Comunidade ativa, organizada e sem toxicidade.</p>

    <a class="btn-primary" href="https://discord.gg/55tKDRpbwS" target="_blank">
        Entrar no Discord
    </a>
</section>

</main>

<footer>
    <p>¬© DieHard Guild ‚Äî Feito por <strong>SLZXP</strong></p>
</footer>

<script>
function showTab(id) {
    document.querySelectorAll('.tab-section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo({ top: 300, behavior: 'smooth' });
}
</script>

<script>
document.getElementById("vendaForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const res = await fetch("/vender", { method: "POST", body: formData });
    const json = await res.json();
    if (json.ok) {
        alert("Ba√∫ publicado com sucesso!");
        carregarBaus();
        e.target.reset();
    } else {
        alert("Erro ao publicar!");
    }
});

async function carregarBaus() {
    const res = await fetch("/vendas");
    const vendas = await res.json();
    const area = document.getElementById("bauList");
    area.innerHTML = "";
    vendas.forEach(v => {
        area.innerHTML += `
            <div class="card">
                <img src="${v.imagem}" style="width: 100%; border-radius: 8px;">
                <p><b>Discord:</b> ${v.discord}</p>
                <a class="btn-secondary" href="https://discord.com/users/${v.discord}" target="_blank">
                    Chamar no Discord
                </a>
            </div>
        `;
    });
}
carregarBaus();
</script>

<!-- PLAYER DE M√öSICA -->
<div style="position:fixed;bottom:20px;right:20px;z-index:9999;">
    <button id="music-btn" style="background:#8b0000;color:white;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;font-family:Inter,sans-serif;font-weight:600;box-shadow:0 4px 6px rgba(0,0,0,0.3);transition:all 0.3s;">
        ‚ñ∂ Tocar Hino
    </button>
</div>

<audio id="bg-music" loop>
    <source src="../assets/audio/dairard.mp3" type="audio/mpeg">
    Seu navegador n√£o suporta √°udio.
</audio>

<script>
const music = document.getElementById("bg-music");
const btn = document.getElementById("music-btn");
music.volume = 0.4;

btn.addEventListener("click", async () => {
    try {
        if (music.paused) {
            await music.play();
            btn.textContent = "‚è∏ Pausar Hino";
            btn.style.background = "#4a0000";
        } else {
            music.pause();
            btn.textContent = "‚ñ∂ Tocar Hino";
            btn.style.background = "#8b0000";
        }
    } catch (err) {
        console.error("Erro ao tocar:", err);
        alert("Erro ao carregar o √°udio. Verifique o console (F12) para detalhes.");
    }
});
</script>

</body>
</html>
